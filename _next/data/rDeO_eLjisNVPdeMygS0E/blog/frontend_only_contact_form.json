{"pageProps":{"frontmatter":{"title":"Frontend-only contact form (React (nextJS)+ Google Forms)","date":"September 13, 2022","author":"Brendan","excerpt":"My initial thought was to go super simple and just add a link to a google form but this seemed a bit too clunky for a professional site.  The next thought was can I embed the form,","cover_image":"https://cdn.hashnode.com/res/hashnode/image/upload/v1663106253339/XoEuZpPvv.png?w=1600&h=840&fit=crop&crop=entropy&auto=compress,format&format=webp"},"slug":"frontend_only_contact_form","content":"I recently created a simple NextJS landing page for my contracting business and decided to host it using GitHub pages, Which is great because it's free and easy to implement. However, it doesn't come with any backend. Keeping with the themes of \"free\" and \"simple\" I was looking for some way to add a contact form to the site that doesn't require any backend. \n\nMy initial thought was to go super simple and just add a link to a google form but this seemed a bit too clunky for a professional site. \nThe next thought was can I embed the form, and It was through googling this that I came across this fantastic package ([react-google-forms-hooks](https://www.npmjs.com/package/react-google-forms-hooks)). This is exactly what I wanted. I can use my own custom components and layout to give the form a more cohesive look.\n\n## Creating the Google Form\nThe first thing I do is create the actual form. In my case, it's just a simple form with Email, Subject, and Message fields\n\n![image.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1663098704226/MOfs-3MZR.png)\n\nTo make sure I'm alerted when someone uses the form I've enabled email notifications\n\n1. Click the three dots             |  2. Enable email notifications\n:-------------------------:|:-------------------------:\n![image.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1663098940286/iTkAY7l-8.png)  | ![image.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1663098959262/NU5UfTiGs.png)\n\nI also need to make sure the form doesn't require sign in\n\n![image.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1663099306975/RGdVW8SJ4.png)\n\n## Adding the Form to NextJS Project\nNow that the form is created, there are a couple of things I need to do before creating the components\n#### Firstly I need to install the Package\n```bash\nnpm install --save react-google-forms-hooks\n```\n#### Now we need to save the details of the google form to a JSON file\nI'm using the function provided by the package. I found running it like this from the terminal to be the easiest as I don't run into any cors errors.\n```bash\nnode -e 'require(\"react-google-forms-hooks\").googleFormsToJson(\"https://docs.google.com/forms/d/e/[formid]/viewform\").then((data) =>  console.log(data))' > src/data/GoogleForm.json\n```\n**Note** : You'll have to go to the file after it's created and make sure the JSON is correctly quoted etc.\n\n#### That's all the setup done. The next thing to do is put together the components. \nMy form is just text fields so all I need is input components for a short answer field and a long answer field. I already have a custom component created for TextInput and TextAreaInput so I'll be using these.\n\nYou'll see below that I went for the simpler method of just copying the field ids into the components. If you want to be fancy you could map over the fields array and create the form dynamically. Or why not add some input validation? Go wild\n\n```ts\nimport {\n  useShortAnswerInput,\n  useLongAnswerInput,\n  useGoogleForm,\n  GoogleFormProvider,\n} from 'react-google-forms-hooks';\n\nimport { Button } from '../components/Button';\nimport { TextAreaInput } from '../components/TextAreaInput';\nimport { TextInput } from '../components/TextInput';\nimport { Section } from '../layout/Section';\nimport form from '../data/GoogleForm.json';\n\ntype IFormInputs = {\n  id: string;\n  type: 'text' | 'email' | 'tel';\n};\n\nconst ShortAnswerInput = ({ id, type }: IFormInputs) => {\n  const { register, label } = useShortAnswerInput(id);\n\n  return <TextInput type={type} label={label} {...register()} />;\n};\n\nconst LongAnswerInput = ({ id, type }: IFormInputs) => {\n  const { register, label } = useLongAnswerInput(id);\n\n  return <TextAreaInput type={type} label={label} {...register()} />;\n};\n\nconst Contactform = () => {\n  // @ts-ignore\n  const methods = useGoogleForm({ form });\n\n  const onSubmit = async (data: any) => {\n    await methods.submitToGoogleForms(data).then(() => {\n      // eslint-disable-next-line no-alert\n      alert('Form submitted with success!');\n    });\n  };\n  return (\n    <Section>\n      <GoogleFormProvider {...methods}>\n        <form id=\"ContactForm\" onSubmit={methods.handleSubmit(onSubmit)}>\n          <ShortAnswerInput id=\"1234567890\" type=\"email\" />\n          <ShortAnswerInput id=\"1234567891\" type=\"text\" />\n          <LongAnswerInput id=\"1234567892\" type=\"text\" />\n\n          <Button type=\"submit\" className=\"mt-2\">\n            Submit\n          </Button>\n        </form>\n      </GoogleFormProvider>\n    </Section>\n  );\n};\n\nexport { Contactform };\n```\n#### Great now I have a Contact form that I can easily add to my site. Hopefully, it gets used üòÅ\nYou've made it this far might as well check it out\n[https://www.blackshoretech.com/](https://www.blackshoretech.com/)\n\n![image.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1663103948377/zB84AlL6L.png)"},"__N_SSG":true}